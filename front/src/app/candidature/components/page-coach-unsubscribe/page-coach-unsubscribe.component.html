<div class="container">
  <div class="col mt-5">
    <h1>Desinscription</h1>
    <p>
      Désactiver ma recherche de poste conseiller numérique France Services.
    </p>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!isConfirmed">
      <div class="form-group">
        <p>
          Dites-nous si la plateforme vous a aidé à trouver une structure pour un poste de conseiller numérique France Services.
        </p>
        <app-form-field-errors [field]="form.controls.isUseful"></app-form-field-errors>
        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="isUseful" id="choiceYes" [value]="true">
          <label class="form-check-label" for="choiceYes">
            Oui
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" formControlName="isUseful" id="choiceNo" [value]="false">
          <label class="form-check-label" for="choiceNo">
            Non
          </label>
        </div>
      </div>

      <div class="form-group" [formGroup]="form">
        <label for="input-comment">
          Commentaire
        </label>
        <textarea class="form-control" formControlName="comment" id="input-comment"></textarea>
        <app-form-field-errors [field]="form.controls.comment"></app-form-field-errors>
      </div>

      <app-form-error-box [errorMessages]="errorMessages"></app-form-error-box>

      <div class="text-center mt-5">
        <button [ladda]="ladda" type="submit" class="btn btn-primary">Confirmer la desinscription</button>
      </div>

    </form>

    <p *ngIf="isConfirmed" class="alert alert-success">
      Votre candidature a été désactivée avec succès.
    </p>

    <div *ngIf="debug">
      status: {{ form.status }}
      <br/>
      <pre>{{ form.value | json }}</pre>
      <pre>{{ form.errors | json }}</pre>
    </div>

  </div>
</div>

